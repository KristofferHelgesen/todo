{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\E217794\\\\Documents\\\\Prosjekter\\\\todouseSelector\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import Cookies from\"universal-cookie\";var initState={todo:\"start stateer hei\",savedValues:[],error:\"\"};function expirationDay(){return new Date(Date.now()+2592000);}var cookie=new Cookies();if(cookie.get(\"todo\")){cookie=cookie.get(\"todo\");}else{cookie.set(\"todo\",initState,{path:\"/\",expires:expirationDay()});cookie=cookie.get(\"todo\");}var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:cookie;var action=arguments.length>1?arguments[1]:undefined;console.log(\"State\",state);var type=action.type;var value=action.value;switch(type){case\"ADD\":state=_objectSpread({},state,{todo:value});break;case\"EDIT\":var changedFrom=action.changedFrom;var array2=state.savedValues.map(function(x){if(x===changedFrom){//If found old value re render.\nreturn value;}else{return x;}});state=_objectSpread({},state,{savedValues:array2});console.log(\"NEW STATE\",state);break;case\"REMOVE\":var array=state.savedValues.filter(function(x){return x!==value;});state=_objectSpread({},state,{savedValues:array});break;case\"SAVE\":if(state.todo!==\"\"&&!state.savedValues.includes(state.todo)){state=_objectSpread({},state,{savedValues:state.savedValues.concat(state.todo),error:\"\"});}else{state=_objectSpread({},state,{error:\"You already have a todo named: \"+state.todo});}break;}document.cookie=\"todo\"+\"=\"+JSON.stringify(state)+\"; expires=\"+expirationDay()+\";path=/\";return state;};export default reducer;","map":{"version":3,"sources":["C:/Users/E217794/Documents/Prosjekter/todouseSelector/src/store/reducers/input.js"],"names":["Cookies","initState","todo","savedValues","error","expirationDay","Date","now","cookie","get","set","path","expires","reducer","state","action","console","log","type","value","changedFrom","array2","map","x","array","filter","includes","concat","document","JSON","stringify"],"mappings":"85BAAA,MAAOA,CAAAA,OAAP,KAAoB,kBAApB,CAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,IAAI,CAAE,mBADU,CAEhBC,WAAW,CAAE,EAFG,CAGhBC,KAAK,CAAE,EAHS,CAAlB,CAMA,QAASC,CAAAA,aAAT,EAAyB,CACvB,MAAO,IAAIC,CAAAA,IAAJ,CAASA,IAAI,CAACC,GAAL,GAAa,OAAtB,CAAP,CACD,CAED,GAAIC,CAAAA,MAAM,CAAG,GAAIR,CAAAA,OAAJ,EAAb,CAEA,GAAIQ,MAAM,CAACC,GAAP,CAAW,MAAX,CAAJ,CAAwB,CACtBD,MAAM,CAAGA,MAAM,CAACC,GAAP,CAAW,MAAX,CAAT,CACD,CAFD,IAEO,CACLD,MAAM,CAACE,GAAP,CAAW,MAAX,CAAmBT,SAAnB,CAA8B,CAC5BU,IAAI,CAAE,GADsB,CAE5BC,OAAO,CAAEP,aAAa,EAFM,CAA9B,EAIAG,MAAM,CAAGA,MAAM,CAACC,GAAP,CAAW,MAAX,CAAT,CACD,CAED,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAA4B,IAA3BC,CAAAA,KAA2B,2DAAnBN,MAAmB,IAAXO,CAAAA,MAAW,2CAC1CC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBH,KAArB,EACA,GAAMI,CAAAA,IAAI,CAAGH,MAAM,CAACG,IAApB,CACA,GAAMC,CAAAA,KAAK,CAAGJ,MAAM,CAACI,KAArB,CAEA,OAAQD,IAAR,EACE,IAAK,KAAL,CACEJ,KAAK,kBACAA,KADA,EAEHZ,IAAI,CAAEiB,KAFH,EAAL,CAKA,MAEF,IAAK,MAAL,CACE,GAAIC,CAAAA,WAAW,CAAGL,MAAM,CAACK,WAAzB,CACA,GAAIC,CAAAA,MAAM,CAAGP,KAAK,CAACX,WAAN,CAAkBmB,GAAlB,CAAsB,SAAAC,CAAC,CAAI,CACtC,GAAIA,CAAC,GAAKH,WAAV,CAAuB,CACrB;AACA,MAAOD,CAAAA,KAAP,CACD,CAHD,IAGO,CACL,MAAOI,CAAAA,CAAP,CACD,CACF,CAPY,CAAb,CASAT,KAAK,kBACAA,KADA,EAEHX,WAAW,CAAEkB,MAFV,EAAL,CAKAL,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBH,KAAzB,EACA,MAEF,IAAK,QAAL,CACE,GAAIU,CAAAA,KAAK,CAAGV,KAAK,CAACX,WAAN,CAAkBsB,MAAlB,CAAyB,SAAAF,CAAC,CAAI,CACxC,MAAOA,CAAAA,CAAC,GAAKJ,KAAb,CACD,CAFW,CAAZ,CAGAL,KAAK,kBACAA,KADA,EAEHX,WAAW,CAAEqB,KAFV,EAAL,CAKA,MACF,IAAK,MAAL,CACE,GAAIV,KAAK,CAACZ,IAAN,GAAe,EAAf,EAAqB,CAACY,KAAK,CAACX,WAAN,CAAkBuB,QAAlB,CAA2BZ,KAAK,CAACZ,IAAjC,CAA1B,CAAkE,CAChEY,KAAK,kBACAA,KADA,EAEHX,WAAW,CAAEW,KAAK,CAACX,WAAN,CAAkBwB,MAAlB,CAAyBb,KAAK,CAACZ,IAA/B,CAFV,CAGHE,KAAK,CAAE,EAHJ,EAAL,CAKD,CAND,IAMO,CACLU,KAAK,kBACAA,KADA,EAEHV,KAAK,CAAE,kCAAoCU,KAAK,CAACZ,IAF9C,EAAL,CAID,CAED,MApDJ,CAsDA0B,QAAQ,CAACpB,MAAT,CACE,OACA,GADA,CAEAqB,IAAI,CAACC,SAAL,CAAehB,KAAf,CAFA,CAGA,YAHA,CAIAT,aAAa,EAJb,CAKA,SANF,CAQA,MAAOS,CAAAA,KAAP,CACD,CApED,CAsEA,cAAeD,CAAAA,OAAf","sourcesContent":["import Cookies from \"universal-cookie\";\r\n\r\nconst initState = {\r\n  todo: \"start stateer hei\",\r\n  savedValues: [],\r\n  error: \"\"\r\n};\r\n\r\nfunction expirationDay() {\r\n  return new Date(Date.now() + 2592000);\r\n}\r\n\r\nlet cookie = new Cookies();\r\n\r\nif (cookie.get(\"todo\")) {\r\n  cookie = cookie.get(\"todo\");\r\n} else {\r\n  cookie.set(\"todo\", initState, {\r\n    path: \"/\",\r\n    expires: expirationDay()\r\n  });\r\n  cookie = cookie.get(\"todo\");\r\n}\r\n\r\nconst reducer = (state = cookie, action) => {\r\n  console.log(\"State\", state);\r\n  const type = action.type;\r\n  const value = action.value;\r\n\r\n  switch (type) {\r\n    case \"ADD\":\r\n      state = {\r\n        ...state,\r\n        todo: value\r\n      };\r\n\r\n      break;\r\n\r\n    case \"EDIT\":\r\n      let changedFrom = action.changedFrom;\r\n      let array2 = state.savedValues.map(x => {\r\n        if (x === changedFrom) {\r\n          //If found old value re render.\r\n          return value;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n\r\n      state = {\r\n        ...state,\r\n        savedValues: array2\r\n      };\r\n\r\n      console.log(\"NEW STATE\", state);\r\n      break;\r\n\r\n    case \"REMOVE\":\r\n      let array = state.savedValues.filter(x => {\r\n        return x !== value;\r\n      });\r\n      state = {\r\n        ...state,\r\n        savedValues: array\r\n      };\r\n\r\n      break;\r\n    case \"SAVE\":\r\n      if (state.todo !== \"\" && !state.savedValues.includes(state.todo)) {\r\n        state = {\r\n          ...state,\r\n          savedValues: state.savedValues.concat(state.todo),\r\n          error: \"\"\r\n        };\r\n      } else {\r\n        state = {\r\n          ...state,\r\n          error: \"You already have a todo named: \" + state.todo\r\n        };\r\n      }\r\n\r\n      break;\r\n  }\r\n  document.cookie =\r\n    \"todo\" +\r\n    \"=\" +\r\n    JSON.stringify(state) +\r\n    \"; expires=\" +\r\n    expirationDay() +\r\n    \";path=/\";\r\n\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}