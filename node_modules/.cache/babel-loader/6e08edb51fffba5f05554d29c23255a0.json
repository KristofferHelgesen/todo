{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\E217794\\\\Documents\\\\Prosjekter\\\\todouseSelector\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import Cookies from\"universal-cookie\";var initState={todo:\"start stateer hei\",savedValues:[],error:\"\"};function expirationDay(){var d=new Date();var exdays=7;d.setTime(d.getTime()+exdays*24*60*60*1000);var expires=d.toUTCString();return expires;}var cookie=new Cookies();if(cookie.get(\"todo\")){console.log(\"1 \");cookie=cookie.get(\"todo\");//JSON.parse(cookie));\n}else{console.log(\"2\");cookie.set(\"todo\",initState,{path:\"/\",expires:expirationDay()});cookie=cookie.get(\"todo\");}var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:cookie;var action=arguments.length>1?arguments[1]:undefined;console.log(\"COOKCIE\",state);var type=action.type;var value=action.value;switch(type){case\"ADD\":state=_objectSpread({},state,{todo:value});break;case\"REMOVE\":var array=state.savedValues.filter(function(x){return x!==value;});state=_objectSpread({},state,{savedValues:array});break;case\"SAVE\":if(state.todo!==\"\"&&!state.savedValues.includes(state.todo)){state=_objectSpread({},state,{savedValues:state.savedValues.concat(state.todo),error:\"\"});}else{state=_objectSpread({},state,{error:\"You already have a todo named: \"+state.todo});}break;}document.cookie=\"todo\"+\"=\"+JSON.stringify(state)+\"; expires=\"+expirationDay()+\";path=/\";console.log(document.cookie);return state;};export default reducer;","map":{"version":3,"sources":["C:/Users/E217794/Documents/Prosjekter/todouseSelector/src/store/reducers/input.js"],"names":["Cookies","initState","todo","savedValues","error","expirationDay","d","Date","exdays","setTime","getTime","expires","toUTCString","cookie","get","console","log","set","path","reducer","state","action","type","value","array","filter","x","includes","concat","document","JSON","stringify"],"mappings":"85BAAA,MAAOA,CAAAA,OAAP,KAAoB,kBAApB,CAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,IAAI,CAAE,mBADU,CAEhBC,WAAW,CAAE,EAFG,CAGhBC,KAAK,CAAE,EAHS,CAAlB,CAMA,QAASC,CAAAA,aAAT,EAAyB,CACvB,GAAIC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAR,CACA,GAAIC,CAAAA,MAAM,CAAG,CAAb,CACAF,CAAC,CAACG,OAAF,CAAUH,CAAC,CAACI,OAAF,GAAcF,MAAM,CAAG,EAAT,CAAc,EAAd,CAAmB,EAAnB,CAAwB,IAAhD,EACA,GAAIG,CAAAA,OAAO,CAAGL,CAAC,CAACM,WAAF,EAAd,CAEA,MAAOD,CAAAA,OAAP,CACD,CACD,GAAIE,CAAAA,MAAM,CAAG,GAAIb,CAAAA,OAAJ,EAAb,CAEA,GAAIa,MAAM,CAACC,GAAP,CAAW,MAAX,CAAJ,CAAwB,CACtBC,OAAO,CAACC,GAAR,CAAY,IAAZ,EACAH,MAAM,CAAGA,MAAM,CAACC,GAAP,CAAW,MAAX,CAAT,CACA;AACD,CAJD,IAIO,CACLC,OAAO,CAACC,GAAR,CAAY,GAAZ,EAEAH,MAAM,CAACI,GAAP,CAAW,MAAX,CAAmBhB,SAAnB,CAA8B,CAC5BiB,IAAI,CAAE,GADsB,CAE5BP,OAAO,CAAEN,aAAa,EAFM,CAA9B,EAIAQ,MAAM,CAAGA,MAAM,CAACC,GAAP,CAAW,MAAX,CAAT,CACD,CAED,GAAMK,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAA4B,IAA3BC,CAAAA,KAA2B,2DAAnBP,MAAmB,IAAXQ,CAAAA,MAAW,2CAC1CN,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBI,KAAvB,EACA,GAAME,CAAAA,IAAI,CAAGD,MAAM,CAACC,IAApB,CACA,GAAMC,CAAAA,KAAK,CAAGF,MAAM,CAACE,KAArB,CAEA,OAAQD,IAAR,EACE,IAAK,KAAL,CACEF,KAAK,kBACAA,KADA,EAEHlB,IAAI,CAAEqB,KAFH,EAAL,CAKA,MAEF,IAAK,QAAL,CACE,GAAIC,CAAAA,KAAK,CAAGJ,KAAK,CAACjB,WAAN,CAAkBsB,MAAlB,CAAyB,SAAAC,CAAC,CAAI,CACxC,MAAOA,CAAAA,CAAC,GAAKH,KAAb,CACD,CAFW,CAAZ,CAGAH,KAAK,kBACAA,KADA,EAEHjB,WAAW,CAAEqB,KAFV,EAAL,CAKA,MACF,IAAK,MAAL,CACE,GAAIJ,KAAK,CAAClB,IAAN,GAAe,EAAf,EAAqB,CAACkB,KAAK,CAACjB,WAAN,CAAkBwB,QAAlB,CAA2BP,KAAK,CAAClB,IAAjC,CAA1B,CAAkE,CAChEkB,KAAK,kBACAA,KADA,EAEHjB,WAAW,CAAEiB,KAAK,CAACjB,WAAN,CAAkByB,MAAlB,CAAyBR,KAAK,CAAClB,IAA/B,CAFV,CAGHE,KAAK,CAAE,EAHJ,EAAL,CAKD,CAND,IAMO,CACLgB,KAAK,kBACAA,KADA,EAEHhB,KAAK,CAAE,kCAAoCgB,KAAK,CAAClB,IAF9C,EAAL,CAID,CAED,MAjCJ,CAmCA2B,QAAQ,CAAChB,MAAT,CACE,OACA,GADA,CAEAiB,IAAI,CAACC,SAAL,CAAeX,KAAf,CAFA,CAGA,YAHA,CAIAf,aAAa,EAJb,CAKA,SANF,CAQAU,OAAO,CAACC,GAAR,CAAYa,QAAQ,CAAChB,MAArB,EACA,MAAOO,CAAAA,KAAP,CACD,CAlDD,CAoDA,cAAeD,CAAAA,OAAf","sourcesContent":["import Cookies from \"universal-cookie\";\r\n\r\nconst initState = {\r\n  todo: \"start stateer hei\",\r\n  savedValues: [],\r\n  error: \"\"\r\n};\r\n\r\nfunction expirationDay() {\r\n  let d = new Date();\r\n  let exdays = 7;\r\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n  let expires = d.toUTCString();\r\n\r\n  return expires;\r\n}\r\nlet cookie = new Cookies();\r\n\r\nif (cookie.get(\"todo\")) {\r\n  console.log(\"1 \");\r\n  cookie = cookie.get(\"todo\");\r\n  //JSON.parse(cookie));\r\n} else {\r\n  console.log(\"2\");\r\n\r\n  cookie.set(\"todo\", initState, {\r\n    path: \"/\",\r\n    expires: expirationDay()\r\n  });\r\n  cookie = cookie.get(\"todo\");\r\n}\r\n\r\nconst reducer = (state = cookie, action) => {\r\n  console.log(\"COOKCIE\", state);\r\n  const type = action.type;\r\n  const value = action.value;\r\n\r\n  switch (type) {\r\n    case \"ADD\":\r\n      state = {\r\n        ...state,\r\n        todo: value\r\n      };\r\n\r\n      break;\r\n\r\n    case \"REMOVE\":\r\n      let array = state.savedValues.filter(x => {\r\n        return x !== value;\r\n      });\r\n      state = {\r\n        ...state,\r\n        savedValues: array\r\n      };\r\n\r\n      break;\r\n    case \"SAVE\":\r\n      if (state.todo !== \"\" && !state.savedValues.includes(state.todo)) {\r\n        state = {\r\n          ...state,\r\n          savedValues: state.savedValues.concat(state.todo),\r\n          error: \"\"\r\n        };\r\n      } else {\r\n        state = {\r\n          ...state,\r\n          error: \"You already have a todo named: \" + state.todo\r\n        };\r\n      }\r\n\r\n      break;\r\n  }\r\n  document.cookie =\r\n    \"todo\" +\r\n    \"=\" +\r\n    JSON.stringify(state) +\r\n    \"; expires=\" +\r\n    expirationDay() +\r\n    \";path=/\";\r\n\r\n  console.log(document.cookie);\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}